<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.22.1">
    <meta name="project" content="MongoosePush v2.1.0-alpha.1">
    <title>Introduction â€” MongoosePush v2.1.0-alpha.1</title>
    <link rel="stylesheet" href="dist/elixir-e589b8fad3dab6230c65.css" />
    <script src="dist/sidebar_items-c5d5d1db14.js"></script>
      <script src="../assets/js/versions.js"></script>
    <script async src="dist/app-5c0c23dfec2d63ae33a2.js"></script>
  </head>
  <body data-type="extras">
    <script>try { if(localStorage.getItem('night-mode') === 'true') document.body.className += ' night-mode'; } catch (e) { }</script>
<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button">
      <span class="icon-cross" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" id="search-list" class="search-input" placeholder="Search..." aria-label="Search" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="https://esl.github.io/MongoosePush" class="sidebar-projectName">
MongoosePush      </a>
      <h2 class="sidebar-projectVersion">
        v2.1.0-alpha.1
      </h2>
    </div>
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Guides</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>

      <li><a id="tasks-list" href="#full-list">Mix Tasks</a></li>
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>MongoosePush</h1><p><a href="https://travis-ci.org/esl/MongoosePush"><img src="https://travis-ci.org/esl/MongoosePush.svg?branch=master" alt="Build Status"></img></a><a href="https://coveralls.io/github/esl/MongoosePush?branch=master"><img src="https://coveralls.io/repos/github/esl/MongoosePush/badge.svg?branch=master" alt="Coverage Status"></img></a><a href="https://ebertapp.io/github/esl/MongoosePush"><img src="https://ebertapp.io/github/esl/MongoosePush.svg" alt="Ebert"></img></a></p><p><strong>MongoosePush</strong> is a simple, <strong>RESTful</strong> service written in <strong>Elixir</strong>, providing the ability to <strong>send push
notifications</strong> to <code class="inline">FCM</code> (Firebase Cloud Messaging) and/or
<code class="inline">APNS</code> (Apple Push Notification Service) via their <code class="inline">HTTP/2</code> API.</p><h2 id="documentation" class="section-heading">
  <a href="#documentation" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Documentation
</h2>
<p>Documentation is available at: <a href="https://esl.github.io/MongoosePush">https://esl.github.io/MongoosePush</a></p><h1>Quick start</h1><h2 id="running-from-dockerhub" class="section-heading">
  <a href="#running-from-dockerhub" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Running from DockerHub
</h2>
<p>We provide prebuilt MongoosePush images. Configuration requires either an FCM token, APNS certificates or an APNS token. Depending on your usecase, you can have some or all of them in a standalone MongoosePush instance or using a docker container.
For the full configuration you need to set the following directory structure up:</p><ul><li>priv/<ul><li>ssl/<ul><li>rest_cert.pem - The HTTP endpoint certificate</li><li>rest_key.pem - private key for the HTTP endpoint certificate (has to be unencrypted)</li></ul></li><li>apns/<ul><li>prod_cert.pem - Production APNS app certificate</li><li>prod_key.pem - Production APNS app certificate's private key (has to be unencrypted)</li><li>dev_cert.pem - Development APNS app certificate</li><li>dev_key.pem - Development APNS app certificate's private key (has to be unencrypted)</li><li>token.p8 - <code class="inline">APNS</code> authentication token</li></ul></li><li>fcm/<ul><li>token.json - <code class="inline">FCM</code> service account JSON file</li></ul></li></ul></li></ul><p>If you want to use <code class="inline">APNS</code> token authentication you need to provide token and set <code class="inline">key_id</code> and <code class="inline">team_id</code> environment variables. To see how to obtain token and <code class="inline">key_id</code> read:
<a href="https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/establishing_a_token_based_connection_to_apns">https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/establishing_a_token_based_connection_to_apns</a>
To see how to obtain <code class="inline">team_id</code> read: <a href="https://www.mobiloud.com/help/knowledge-base/ios-app-transfer/">https://www.mobiloud.com/help/knowledge-base/ios-app-transfer/</a>
<code class="inline">FCM</code> JSON file can be generated by Firebase console (<a href="https://console.firebase.google.com).">https://console.firebase.google.com).</a> Go to your project -&gt; <code class="inline">Project Settings</code> -&gt; <code class="inline">Service accounts</code> -&gt; <code class="inline">Generate new private key</code>
Assuming that you have the <code class="inline">priv</code> directory with all certificates and fcm token in current directory, then you may start MongoosePush with the following command:</p><pre><code class="bash">docker run -v `pwd`/priv:/opt/app/priv \
  -e PUSH_HTTPS_CERTFILE=&quot;/opt/app/priv/ssl/rest_cert.pem&quot; \
  -e PUSH_HTTPS_KEYFILE=&quot;/opt/app/priv/ssl/rest_key.pem&quot; \
  -it --rm mongooseim/mongoose-push:latest</code></pre><h2 id="local-build-prerequisites" class="section-heading">
  <a href="#local-build-prerequisites" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Local build prerequisites
</h2>
<ul><li>Elixir 1.5+ (<a href="http://elixir-lang.org/install.html">http://elixir-lang.org/install.html</a>)</li><li>Erlang/OTP 19.3+<blockquote><p>NOTE: Some Erlang/OTP 20.x releases / builds contain TLS bug that prevents connecting to APNS servers.
When building with this Erlang version, please make sure that MongoosePushRuntimeTest test suite passes.
It is however highly recommended to build MongoosePush with Erlang/OTP 21.x.</p></blockquote></li><li>Rebar3 (just enter <a href="https://hexdocs.pm/mix/Mix.Tasks.Local.Rebar.html"><code class="inline">mix local.rebar</code></a>)</li></ul>      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.22.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>
          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  </body>
</html>
